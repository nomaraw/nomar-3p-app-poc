
https://nomaraw.github.io/nomar-3p-app-poc/dist/amazon-connect-app.umd.js</script>
<script>
  (async () => {
    // Initialize AppMessageBridge
    const app = await window.AmazonConnectApp.App.init();

    // Lifecycle confirms the bridge
    app.on('create', () => console.log('[Workspace] lifecycle: create'));
    app.on('destroy', () => console.log('[Workspace] lifecycle: destroy'));

    // Cost-free agent interactions (idle state)
    const agentInfo = await app.agent.get();
    console.log('[Agent] snapshot:', agentInfo);

    app.agent.on('stateChange', (state) => {
      console.log('[Agent] stateChange:', state);
    });

    // Optional: contact updates (only fire if you use **Test Chat** in the console; still non-billable)
    app.contact.on('update', (contact) => {
      console.log('[Contact] update:', contact);
    });

    // Custom namespaced event over the bridge
    app.events.emit('nomar.poc.ping', { ts: Date.now() });
  })().catch(console.error);
</script>
``
